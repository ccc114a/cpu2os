

```
root@localhost:~/cpu2os/02-系統程式/04-目的檔/02-目的檔ELF/v1-elfdump/run# ./run_x86.sh
++ gcc -m32 -c add.c -o add_x86.o
++ objdump -d add_x86.o

add_x86.o:     file format elf32-i386


Disassembly of section .text:

00000000 <add>:
   0:   55                      push   %ebp
   1:   89 e5                   mov    %esp,%ebp
   3:   e8 fc ff ff ff          call   4 <add+0x4>
   8:   05 01 00 00 00          add    $0x1,%eax
   d:   8b 55 08                mov    0x8(%ebp),%edx
  10:   8b 45 0c                mov    0xc(%ebp),%eax
  13:   01 d0                   add    %edx,%eax
  15:   5d                      pop    %ebp
  16:   c3                      ret

00000017 <sum>:
  17:   55                      push   %ebp
  18:   89 e5                   mov    %esp,%ebp
  1a:   83 ec 10                sub    $0x10,%esp
  1d:   e8 fc ff ff ff          call   1e <sum+0x7>
  22:   05 01 00 00 00          add    $0x1,%eax
  27:   c7 45 f8 00 00 00 00    movl   $0x0,-0x8(%ebp)
  2e:   c7 45 fc 01 00 00 00    movl   $0x1,-0x4(%ebp)
  35:   eb 0a                   jmp    41 <sum+0x2a>
  37:   8b 45 fc                mov    -0x4(%ebp),%eax
  3a:   01 45 f8                add    %eax,-0x8(%ebp)
  3d:   83 45 fc 01             addl   $0x1,-0x4(%ebp)
  41:   8b 45 fc                mov    -0x4(%ebp),%eax
  44:   3b 45 08                cmp    0x8(%ebp),%eax
  47:   7e ee                   jle    37 <sum+0x20>
  49:   8b 45 f8                mov    -0x8(%ebp),%eax
  4c:   c9                      leave
  4d:   c3                      ret

0000004e <main>:
  4e:   55                      push   %ebp
  4f:   89 e5                   mov    %esp,%ebp
  51:   83 ec 10                sub    $0x10,%esp
  54:   e8 fc ff ff ff          call   55 <main+0x7>
  59:   05 01 00 00 00          add    $0x1,%eax
  5e:   6a 0a                   push   $0xa
  60:   e8 fc ff ff ff          call   61 <main+0x13>
  65:   83 c4 04                add    $0x4,%esp
  68:   89 45 fc                mov    %eax,-0x4(%ebp)
  6b:   b8 00 00 00 00          mov    $0x0,%eax
  70:   c9                      leave
  71:   c3                      ret

Disassembly of section .text.__x86.get_pc_thunk.ax:

00000000 <__x86.get_pc_thunk.ax>:
   0:   8b 04 24                mov    (%esp),%eax
   3:   c3                      ret
++ gcc ../elf32dump.c -o ../elf32dump.o
++ ../elf32dump.o add_x86.o
ELF 類型: 1
機器類型: 3
進入點位址: 0x0
段表偏移量: 864
程式表偏移量: 0
段名稱:                      段位址: 0x00000000 段大小:        0
整段內容印出:


段名稱: .group               段位址: 0x00000000 段大小:        8
整段內容印出:
01 00 00 00 06 00 00 00 

段名稱: .text                段位址: 0x00000000 段大小:      114
整段內容印出:
55 89 e5 e8 fc ff ff ff 05 01 00 00 00 8b 55 08 
8b 45 0c 01 d0 5d c3 55 89 e5 83 ec 10 e8 fc ff 
ff ff 05 01 00 00 00 c7 45 f8 00 00 00 00 c7 45 
fc 01 00 00 00 eb 0a 8b 45 fc 01 45 f8 83 45 fc 
01 8b 45 fc 3b 45 08 7e ee 8b 45 f8 c9 c3 55 89 
e5 83 ec 10 e8 fc ff ff ff 05 01 00 00 00 6a 0a 
e8 fc ff ff ff 83 c4 04 89 45 fc b8 00 00 00 00 
c9 c3 

段名稱: .rel.text            段位址: 0x00000000 段大小:       56
整段內容印出:
04 00 00 00 02 08 00 00 09 00 00 00 0a 09 00 00 
1e 00 00 00 02 08 00 00 23 00 00 00 0a 09 00 00 
55 00 00 00 02 08 00 00 5a 00 00 00 0a 09 00 00 
61 00 00 00 02 0a 00 00 

段名稱: .data                段位址: 0x00000000 段大小:        8
整段內容印出:
63 63 63 00 37 00 00 00 

段名稱: .bss                 段位址: 0x00000000 段大小:      100
整段內容印出:
8b 04 24 c3 00 47 43 43 3a 20 28 55 62 75 6e 74 
75 20 31 33 2e 33 2e 30 2d 36 75 62 75 6e 74 75 
32 7e 32 34 2e 30 34 29 20 31 33 2e 33 2e 30 00 
14 00 00 00 00 00 00 00 01 7a 52 00 01 7c 08 01 
1b 0c 04 04 88 01 00 00 1c 00 00 00 1c 00 00 00 
00 00 00 00 17 00 00 00 00 41 0e 08 85 02 42 0d 
05 53 c5 0c 

段名稱: .text.__x86.get_pc_thunk.ax 段位址: 0x00000000 段大小:        4
整段內容印出:
8b 04 24 c3 

段名稱: .comment             段位址: 0x00000000 段大小:       44
整段內容印出:
00 47 43 43 3a 20 28 55 62 75 6e 74 75 20 31 33 
2e 33 2e 30 2d 36 75 62 75 6e 74 75 32 7e 32 34 
2e 30 34 29 20 31 33 2e 33 2e 30 00 

段名稱: .note.GNU-stack      段位址: 0x00000000 段大小:        0
整段內容印出:


段名稱: .eh_frame            段位址: 0x00000000 段大小:      140
整段內容印出:
14 00 00 00 00 00 00 00 01 7a 52 00 01 7c 08 01 
1b 0c 04 04 88 01 00 00 1c 00 00 00 1c 00 00 00 
00 00 00 00 17 00 00 00 00 41 0e 08 85 02 42 0d 
05 53 c5 0c 04 04 00 00 1c 00 00 00 3c 00 00 00 
17 00 00 00 37 00 00 00 00 41 0e 08 85 02 42 0d 
05 73 c5 0c 04 04 00 00 1c 00 00 00 5c 00 00 00 
4e 00 00 00 24 00 00 00 00 41 0e 08 85 02 42 0d 
05 60 c5 0c 04 04 00 00 10 00 00 00 7c 00 00 00 
00 00 00 00 04 00 00 00 00 00 00 00 

段名稱: .rel.eh_frame        段位址: 0x00000000 段大小:       32
整段內容印出:
20 00 00 00 02 02 00 00 40 00 00 00 02 02 00 00 
60 00 00 00 02 02 00 00 80 00 00 00 02 03 00 00 


段名稱: .symtab              段位址: 0x00000000 段大小:      192
整段內容印出:
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
01 00 00 00 00 00 00 00 00 00 00 00 04 00 f1 ff 
00 00 00 00 00 00 00 00 00 00 00 00 03 00 02 00 
00 00 00 00 00 00 00 00 00 00 00 00 03 00 06 00 
07 00 00 00 00 00 00 00 04 00 00 00 11 00 04 00 
0c 00 00 00 04 00 00 00 04 00 00 00 11 00 04 00 
10 00 00 00 00 00 00 00 64 00 00 00 11 00 05 00 
17 00 00 00 00 00 00 00 17 00 00 00 12 00 02 00 
1b 00 00 00 00 00 00 00 00 00 00 00 12 02 06 00 
31 00 00 00 00 00 00 00 00 00 00 00 10 00 00 00 
47 00 00 00 17 00 00 00 37 00 00 00 12 00 02 00 
4b 00 00 00 4e 00 00 00 24 00 00 00 12 00 02 00 


段名稱: .strtab              段位址: 0x00000000 段大小:       80
整段內容印出:
00 61 64 64 2e 63 00 6e 61 6d 65 00 61 67 65 00 
62 75 66 66 65 72 00 61 64 64 00 5f 5f 78 38 36 
2e 67 65 74 5f 70 63 5f 74 68 75 6e 6b 2e 61 78 
00 5f 47 4c 4f 42 41 4c 5f 4f 46 46 53 45 54 5f 
54 41 42 4c 45 5f 00 73 75 6d 00 6d 61 69 6e 00 


段名稱: .shstrtab            段位址: 0x00000000 段大小:      122
整段內容印出:
00 2e 73 79 6d 74 61 62 00 2e 73 74 72 74 61 62 
00 2e 73 68 73 74 72 74 61 62 00 2e 72 65 6c 2e 
74 65 78 74 00 2e 64 61 74 61 00 2e 62 73 73 00 
2e 74 65 78 74 2e 5f 5f 78 38 36 2e 67 65 74 5f 
70 63 5f 74 68 75 6e 6b 2e 61 78 00 2e 63 6f 6d 
6d 65 6e 74 00 2e 6e 6f 74 65 2e 47 4e 55 2d 73 
74 61 63 6b 00 2e 72 65 6c 2e 65 68 5f 66 72 61 
6d 65 00 2e 67 72 6f 75 70 00 
```